<meta name="viewport" content="width=device-width height=device-height initial-scale=1.0
                               minimum-scale=1.0 maximum-scale=1.0 user-scalable=no"/>
<script>
function media(id,url){
      let div=document.createElement("div");
      div.style.display="none";
      div.id=id;
      fetch(url,{method:"HEAD"}).then(
           function(response){
               let div=document.getElementById(id);
               if(response.ok==true){
                    let mda=undefined;
                    let type=response.headers.get("Content-Type");
                    type=type.substr(0,type.indexOf("/"));
                    if(type=="image"){
                        mda=document.createElement("img");
                    }else if(type=="video"||type=="audio"){
                        mda=document.createElement(type);
                        mda.controls=true;
                    }else{
                        /*PASS*/
                    }
                    if(mda!=undefined){
                         mda.style.width="100%";
                         div.parentNode
                            .replaceChild(mda,div);
                    }else{
                         div.parentNode
                            .removeChild(div);
                    }
                }else{
                     div.parentNode
                        .removeChild(div);
                }
             });
      return div;
} 
function test(it){
it.appendChild(
media(1,"test.jpg"));
it.appendChild(
media(2,"PXL_20210507_121341889.mp4"));
it.appendChild(
media(3,"GAI周延 - 在下霍元甲.mp3"));
it.appendChild(
media(4,"blog.txt"));
}
</script>
<body onload="test(document.getElementById('sh'))">
<h2>Media test</h2>
<div id="sh" ></div>
</body>
